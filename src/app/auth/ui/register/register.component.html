<div class="container">
  <mat-card class="card">
    <mat-card-header><h1>Inscription</h1></mat-card-header>
    <mat-card-content>
      <form [formGroup]="registerForm" (ngSubmit)="register()">
        <mat-form-field appearance="fill">
          <mat-label>Pseudo</mat-label>
          <input matInput placeholder="Pseudo" formControlName="username">
          <mat-error *ngIf="registerForm.controls['username'].invalid && registerForm.controls['username'].touched">
            Le pseudo est requis.
          </mat-error>
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>Email</mat-label>
          <input matInput placeholder="Email" formControlName="email">
          <mat-error *ngIf="registerForm.controls['email'].invalid && registerForm.controls['email'].touched">
            L'email est requis et doit avoir un "&#64;" et un ..
          </mat-error>
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>Mot de passe</mat-label>
          <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password">
          <button mat-icon-button matSuffix (click)="hidePassword = !hidePassword" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePassword">
            <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
          <mat-error *ngIf="registerForm.controls['password'].invalid && registerForm.controls['password'].touched">
            Le mot de passe est requis et doit contenir au moins 8 caract√®res.
          </mat-error>
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>Confirmez votre mot de passe</mat-label>
          <input matInput [type]="hideConfirmPassword ? 'password' : 'text'" formControlName="confirmPassword">
          <button mat-icon-button matSuffix (click)="hideConfirmPassword = !hideConfirmPassword" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePassword">
            <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
        </mat-form-field>
        <div class="error" *ngIf="registerForm.errors?.['passwordMismatch'] && registerForm.controls['confirmPassword'].valid && registerForm.controls['password'].valid">
          Les mots de passe ne correspondent pas</div>

        <div class="button-container"><button mat-raised-button color="primary" type="submit">S'inscrire</button></div>
        <a routerLinkActive="active" routerLink="/login">Se connecter</a>
      </form>
    </mat-card-content>
  </mat-card>
</div>
